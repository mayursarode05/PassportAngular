import './polyfills.server.mjs';
import{c as Ht}from"./chunk-5WT7CYFO.mjs";import{a as kt,b as K,c as Q,d as $,e as tt}from"./chunk-644GCPYD.mjs";import{b as jt}from"./chunk-OXUK6RTZ.mjs";import{c as St,d as At,h as Dt,i as Rt,j as Pt,k as Et,l as Ft,n as q,o as Y,p as Nt}from"./chunk-PLGZ3IQ7.mjs";import{$a as L,Da as gt,Db as G,Ea as J,Ha as c,Ia as b,J as dt,Ja as vt,Ka as _t,L as A,La as bt,M as ut,Ma as Ct,O as pt,Oa as yt,Pa as N,Pb as Ot,Q as D,R as _,Sa as j,Tb as V,W as h,X as mt,Ya as x,Z,Za as B,_ as ht,_a as p,bb as C,cb as a,cc as z,da as R,db as r,ea as P,eb as d,ec as Mt,f as y,fb as w,gb as I,ha as U,hb as E,ib as Tt,jb as T,kb as m,lb as xt,mb as wt,nb as It,ob as l,pa as ft,qb as O,vb as f}from"./chunk-QD7FFSOM.mjs";import{a as v,b as S}from"./chunk-VVCT4QZE.mjs";function ie(o,i){o&1&&(w(0),a(1,"li",10)(2,"a",11),l(3,"Sign Up"),r()(),a(4,"li",10)(5,"a",12),l(6,"Login"),r()(),I())}function ne(o,i){if(o&1){let t=E();w(0),a(1,"li",10)(2,"a",13),T("click",function(){R(t);let n=m();return P(n.HandleLogout())}),d(3,"i",14),r()(),I()}}function oe(o,i){if(o&1){let t=E();w(0),a(1,"li",10)(2,"a",13),T("click",function(){R(t);let n=m();return P(n.HandleLogout())}),d(3,"i",14),r()(),I()}}var Bt=(()=>{let i=class i{constructor(e){this.router=e,this.userService=_(jt),this.isLoggedIn="",this.HandleLogout=()=>{typeof window<"u"&&window.localStorage&&localStorage.removeItem("loggedUser")}}ngOnInit(){this.router.events.subscribe(e=>{e.url&&typeof window<"u"&&window.localStorage&&(localStorage.getItem("loggedUser")&&(e.url.includes("user")||e.url.includes("admin"))?this.isLoggedIn="user":this.isLoggedIn="default")})}};i.\u0275fac=function(n){return new(n||i)(b(q))},i.\u0275cmp=h({type:i,selectors:[["app-header"]],standalone:!0,features:[f],decls:15,vars:3,consts:[[1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["routerLink","",1,"navbar-brand","text-white"],[1,"text-info"],[1,"text-white"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[4,"ngIf"],[1,"nav-item"],["aria-current","page","routerLink","signup",1,"nav-link","active","text-white"],["aria-current","page","routerLink","login",1,"nav-link","active","text-white"],["aria-current","page","routerLink","",1,"nav-link","active","text-white","fs-5","fw-bold",3,"click"],[1,"bi","bi-power"]],template:function(n,s){n&1&&(a(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2)(4,"h4",3),l(5,"PASSPORT "),a(6,"span",4),l(7,"SAHAYATA"),r()()(),a(8,"button",5),d(9,"span",6),r(),a(10,"div",7)(11,"ul",8),x(12,ie,7,0,"ng-container",9)(13,ne,4,0,"ng-container",9)(14,oe,4,0,"ng-container",9),r()()()()()),n&2&&(c(12),p("ngIf",s.isLoggedIn==="default"),c(),p("ngIf",s.isLoggedIn==="user"),c(),p("ngIf",s.isLoggedIn==="admin"))},dependencies:[Y,Mt,z]});let o=i;return o})();var Lt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=h({type:i,selectors:[["app-footer"]],standalone:!0,features:[f],decls:6,vars:0,consts:[[1,"bg-dark","text-white","text-center","py-3"],[1,"text-info"],[1,"text-white"]],template:function(n,s){n&1&&(a(0,"footer",0),l(1," \xA9 2024 "),a(2,"h5",1),l(3,"PASSPORT "),a(4,"span",2),l(5,"SAHAYATA"),r()()())}});let o=i;return o})();var se=["toggleBtn"],Vt=(()=>{let i=class i{ngAfterViewInit(){this.toggleBtn.nativeElement.addEventListener("click",()=>{document.querySelector("#sidebar")?.classList.toggle("expand")})}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=h({type:i,selectors:[["app-sidebar"]],viewQuery:function(n,s){if(n&1&&xt(se,5),n&2){let u;wt(u=It())&&(s.toggleBtn=u.first)}},standalone:!0,features:[f],decls:42,vars:0,consts:[["toggleBtn",""],[1,"wrapper"],[1,""],["id","sidebar"],[1,"d-flex"],["type","button",1,"toggle-btn"],[1,"bi","bi-grid"],[1,"sidebar-logo"],[1,"sidebar-nav"],[1,"sidebar-item"],["routerLink","user/profile",1,"sidebar-link"],[1,"bi","bi-person"],["routerLink","user/newpassport",1,"sidebar-link"],[1,"bi","bi-passport"],["routerLink","user/renewalpassport",1,"sidebar-link"],[1,"bi","bi-node-plus"],["routerLink","user/track-status",1,"sidebar-link"],[1,"bi","bi-search"],["routerLink","user/payment",1,"sidebar-link"],[1,"bi","bi-currency-rupee"],["routerLink","user/feedback",1,"sidebar-link"],[1,"bi","bi-book-half"],[1,"main","p-3"]],template:function(n,s){n&1&&(a(0,"div",1)(1,"div",2)(2,"aside",3)(3,"div",4)(4,"button",5,0),d(6,"i",6),r(),d(7,"div",7),r(),a(8,"ul",8)(9,"li",9)(10,"a",10),d(11,"i",11),a(12,"span"),l(13,"Profile"),r()()(),a(14,"li",9)(15,"a",12),d(16,"i",13),a(17,"span"),l(18,"New Passport"),r()()(),a(19,"li",9)(20,"a",14),d(21,"i",15),a(22,"span"),l(23,"ReNew Passport"),r()()(),a(24,"li",9)(25,"a",16),d(26,"i",17),a(27,"span"),l(28,"Track Passport"),r()()(),a(29,"li",9)(30,"a",18),d(31,"i",19),a(32,"span"),l(33,"Make Payment"),r()()(),a(34,"li",9)(35,"a",20),d(36,"i",21),a(37,"span"),l(38,"Feedback"),r()()()()()(),a(39,"div",22)(40,"div",2),d(41,"router-outlet"),r()()())},dependencies:[Ft,Y],styles:['[_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box;margin:0;padding:0}a[_ngcontent-%COMP%]{text-decoration:none}li[_ngcontent-%COMP%]{list-style:none}h1[_ngcontent-%COMP%]{font-weight:600;font-size:1.5rem}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.wrapper[_ngcontent-%COMP%]{display:flex}.main[_ngcontent-%COMP%]{min-height:100vh;width:100%;overflow:hidden;transition:all .35s ease-in-out;background-color:#fafbfe}#sidebar[_ngcontent-%COMP%]{width:70px;min-width:70px;z-index:1000;transition:all .25s ease-in-out;background-color:#0e2238;display:flex;flex-direction:column;height:100%}#sidebar.expand[_ngcontent-%COMP%]{width:260px;min-width:260px}.toggle-btn[_ngcontent-%COMP%]{background-color:transparent;cursor:pointer;border:0;padding:1rem 1.5rem}.toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff}.sidebar-logo[_ngcontent-%COMP%]{margin:auto 0}.sidebar-logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:1.15rem;font-weight:600}#sidebar[_ngcontent-%COMP%]:not(.expand)   .sidebar-logo[_ngcontent-%COMP%], #sidebar[_ngcontent-%COMP%]:not(.expand)   a.sidebar-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sidebar-nav[_ngcontent-%COMP%]{padding:2rem 0;flex:1 1 auto}a.sidebar-link[_ngcontent-%COMP%]{padding:.625rem 1.625rem;color:#fff;display:block;font-size:.9rem;white-space:nowrap;border-left:3px solid transparent}.sidebar-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:.75rem}a.sidebar-link[_ngcontent-%COMP%]:hover{background-color:#ffffff13;border-left:3px solid #3b7ddd}.sidebar-item[_ngcontent-%COMP%]{position:relative}#sidebar[_ngcontent-%COMP%]:not(.expand)   .sidebar-item[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]{position:absolute;top:0;left:70px;background-color:#0e2238;padding:0;min-width:15rem;display:none}#sidebar[_ngcontent-%COMP%]:not(.expand)   .sidebar-item[_ngcontent-%COMP%]:hover   .has-dropdown[_ngcontent-%COMP%] + .sidebar-dropdown[_ngcontent-%COMP%]{display:block;max-height:15em;width:100%;opacity:1}#sidebar.expand[_ngcontent-%COMP%]   .sidebar-link[data-bs-toggle=collapse][_ngcontent-%COMP%]:after{border:solid;border-width:0 .075rem .075rem 0;content:"";display:inline-block;padding:2px;position:absolute;right:1.5rem;top:1.4rem;transform:rotate(-135deg);transition:all .2s ease-out}#sidebar.expand[_ngcontent-%COMP%]   .sidebar-link[data-bs-toggle=collapse].collapsed[_ngcontent-%COMP%]:after{transform:rotate(45deg);transition:all .2s ease-out}']});let o=i;return o})();var zt=(()=>{let i=class i{constructor(){this.title="passport-apk"}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=h({type:i,selectors:[["app-root"]],standalone:!0,features:[f],decls:4,vars:0,consts:[[1,"container-fluid"]],template:function(n,s){n&1&&(a(0,"div",0),d(1,"app-header")(2,"app-sidebar")(3,"app-footer"),r())},dependencies:[Bt,Lt,Vt]});let o=i;return o})();var Zt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=h({type:i,selectors:[["app-pagenotfound"]],standalone:!0,features:[f],decls:2,vars:0,consts:[[1,"d-flex","justify-content-center"],["src","./../../../../assets/img/pagenotf.jpeg","alt",""]],template:function(n,s){n&1&&(a(0,"div",0),d(1,"img",1),r())}});let o=i;return o})();var et=(o,i)=>{let t=_(q),e=!1;return typeof window<"u"&&window.localStorage&&(localStorage.getItem("loggedUser")?e=!0:(t.navigate(["login"]),e=!1)),e};var Ut=[{path:"",loadChildren:()=>import("./chunk-G7RU7NIU.mjs").then(o=>o.PublicModule)},{path:"user",canActivate:[et],loadChildren:()=>import("./chunk-ETVVSKY6.mjs").then(o=>o.UserModule)},{path:"admin",canActivate:[et],loadChildren:()=>import("./chunk-C6WF374L.mjs").then(o=>o.AdminModule)},{path:"**",component:Zt,pathMatch:"full"}];var ae="@",re=(()=>{let i=class i{constructor(e,n,s,u,g){this.doc=e,this.delegate=n,this.zone=s,this.animationType=u,this.moduleImpl=g,this._rendererFactoryPromise=null,this.scheduler=_(_t,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-BZ2NXXBC.mjs")).catch(n=>{throw new dt(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:s})=>{this._engine=n(this.animationType,this.doc,this.scheduler);let u=new s(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(e,n){let s=this.delegate.createRenderer(e,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let u=new it(s);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(g=>{let M=g.createRenderer(e,n);u.use(M)}).catch(g=>{u.use(s)}),u}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};i.\u0275fac=function(n){vt()},i.\u0275prov=A({token:i,factory:i.\u0275fac});let o=i;return o})(),it=class{constructor(i){this.delegate=i,this.replay=[],this.\u0275type=1}use(i){if(this.delegate=i,this.replay!==null){for(let t of this.replay)t(i);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}get destroyNode(){return this.delegate.destroyNode}appendChild(i,t){this.delegate.appendChild(i,t)}insertBefore(i,t,e,n){this.delegate.insertBefore(i,t,e,n)}removeChild(i,t,e){this.delegate.removeChild(i,t,e)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,e,n){this.delegate.setAttribute(i,t,e,n)}removeAttribute(i,t,e){this.delegate.removeAttribute(i,t,e)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,e,n){this.delegate.setStyle(i,t,e,n)}removeStyle(i,t,e){this.delegate.removeStyle(i,t,e)}setProperty(i,t,e){this.shouldReplay(t)&&this.replay.push(n=>n.setProperty(i,t,e)),this.delegate.setProperty(i,t,e)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,e){return this.shouldReplay(t)&&this.replay.push(n=>n.listen(i,t,e)),this.delegate.listen(i,t,e)}shouldReplay(i){return this.replay!==null&&i.startsWith(ae)}};function Gt(o="animations"){return yt("NgAsyncAnimations"),Z([{provide:Ct,useFactory:(i,t,e)=>new re(i,t,e,o),deps:[V,Dt,N]},{provide:ft,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Qt=["toast-component",""];function le(o,i){if(o&1){let t=E();a(0,"button",5),T("click",function(){R(t);let n=m();return P(n.remove())}),a(1,"span",6),l(2,"\xD7"),r()()}}function ce(o,i){if(o&1&&(w(0),l(1),I()),o&2){let t=m(2);c(),O("[",t.duplicatesCount+1,"]")}}function de(o,i){if(o&1&&(a(0,"div"),l(1),x(2,ce,2,1,"ng-container",4),r()),o&2){let t=m();C(t.options.titleClass),B("aria-label",t.title),c(),O(" ",t.title," "),c(),p("ngIf",t.duplicatesCount)}}function ue(o,i){if(o&1&&d(0,"div",7),o&2){let t=m();C(t.options.messageClass),p("innerHTML",t.message,J)}}function pe(o,i){if(o&1&&(a(0,"div",8),l(1),r()),o&2){let t=m();C(t.options.messageClass),B("aria-label",t.message),c(),O(" ",t.message," ")}}function me(o,i){if(o&1&&(a(0,"div"),d(1,"div",9),r()),o&2){let t=m();c(),L("width",t.width()+"%")}}function he(o,i){if(o&1){let t=E();a(0,"button",5),T("click",function(){R(t);let n=m();return P(n.remove())}),a(1,"span",6),l(2,"\xD7"),r()()}}function fe(o,i){if(o&1&&(w(0),l(1),I()),o&2){let t=m(2);c(),O("[",t.duplicatesCount+1,"]")}}function ge(o,i){if(o&1&&(a(0,"div"),l(1),x(2,fe,2,1,"ng-container",4),r()),o&2){let t=m();C(t.options.titleClass),B("aria-label",t.title),c(),O(" ",t.title," "),c(),p("ngIf",t.duplicatesCount)}}function ve(o,i){if(o&1&&d(0,"div",7),o&2){let t=m();C(t.options.messageClass),p("innerHTML",t.message,J)}}function _e(o,i){if(o&1&&(a(0,"div",8),l(1),r()),o&2){let t=m();C(t.options.messageClass),B("aria-label",t.message),c(),O(" ",t.message," ")}}function be(o,i){if(o&1&&(a(0,"div"),d(1,"div",9),r()),o&2){let t=m();c(),L("width",t.width()+"%")}}var nt=class{_attachedHost;component;viewContainerRef;injector;constructor(i,t){this.component=i,this.injector=t}attach(i,t){return this._attachedHost=i,i.attach(this,t)}detach(){let i=this._attachedHost;if(i)return this._attachedHost=void 0,i.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},ot=class{_attachedPortal;_disposeFn;attach(i,t){return this._attachedPortal=i,this.attachComponentPortal(i,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(i){this._disposeFn=i}},st=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new y;_activate=new y;_manualClose=new y;_resetTimeout=new y;_countDuplicate=new y;constructor(i){this._overlayRef=i}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(i,t){i&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},H=class{toastId;config;message;title;toastType;toastRef;_onTap=new y;_onAction=new y;constructor(i,t,e,n,s,u){this.toastId=i,this.config=t,this.message=e,this.title=n,this.toastType=s,this.toastRef=u,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(i){this._onAction.next(i)}onAction(){return this._onAction.asObservable()}},$t={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},qt=new pt("ToastConfig"),at=class extends ot{_hostDomElement;_componentFactoryResolver;_appRef;constructor(i,t,e){super(),this._hostDomElement=i,this._componentFactoryResolver=t,this._appRef=e}attachComponentPortal(i,t){let e=this._componentFactoryResolver.resolveComponentFactory(i.component),n;return n=e.create(i.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}_getComponentRootNode(i){return i.hostView.rootNodes[0]}},Ce=(()=>{class o{_document=_(V);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(e){return new(e||o)};static \u0275prov=A({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),rt=class{_portalHost;constructor(i){this._portalHost=i}attach(i,t=!0){return this._portalHost.attach(i,t)}detach(){return this._portalHost.detach()}},ye=(()=>{class o{_overlayContainer=_(Ce);_componentFactoryResolver=_(bt);_appRef=_(G);_document=_(V);_paneElements=new Map;create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){let n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new at(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new rt(this._createPortalHost(t))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=A({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Yt=(()=>{class o{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,e,n,s,u){this.overlay=e,this._injector=n,this.sanitizer=s,this.ngZone=u,this.toastrConfig=v(v({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=v(v({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},s=""){return this._preBuildNotification(s,t,e,this.applyConfig(n))}success(t,e,n={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,t,e,this.applyConfig(n))}error(t,e,n={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,t,e,this.applyConfig(n))}info(t,e,n={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,t,e,this.applyConfig(n))}warning(t,e,n={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,t,e,this.applyConfig(n))}clear(t){for(let e of this.toasts)if(t!==void 0){if(e.toastId===t){e.toastRef.manualClose();return}}else e.toastRef.manualClose()}remove(t){let e=this._findToast(t);if(!e||(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(t="",e="",n,s){let{includeTitleDuplicates:u}=this.toastrConfig;for(let g of this.toasts){let M=u&&g.title===t;if((!u||M)&&g.message===e)return g.toastRef.onDuplicate(n,s),g}return null}applyConfig(t={}){return v(v({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,s)):this._buildNotification(t,e,n,s)}_buildNotification(t,e,n,s){if(!s.toastComponent)throw new Error("toastComponent required");let u=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&u!==null)return u;this.previousToastMessage=e;let g=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(g=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let M=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let lt=e;e&&s.enableHtml&&(lt=this.sanitizer.sanitize(gt.HTML,e));let F=new st(M),W=new H(this.index,s,lt,n,t,F),Kt=[{provide:H,useValue:W}],te=U.create({providers:Kt,parent:this._injector}),ee=new nt(s.toastComponent,te),ct=M.attach(ee,s.newestOnTop);F.componentInstance=ct.instance;let X={toastId:this.index,title:n||"",message:e||"",toastRef:F,onShown:F.afterActivate(),onHidden:F.afterClosed(),onTap:W.onTap(),onAction:W.onAction(),portal:ct};return g||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{X.toastRef.activate()})),this.toasts.push(X),X}static \u0275fac=function(e){return new(e||o)(D(qt),D(ye),D(U),D(Pt),D(N))};static \u0275prov=A({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Te=(()=>{class o{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=j(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=j({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(t=>S(v({},t),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),e=this.hideTime-t;this.width.set(e/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(t=>S(v({},t),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(t=>S(v({},t),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(e){return new(e||o)(b(Yt),b(H),b(N))};static \u0275cmp=h({type:o,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,n){e&1&&T("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),e&2&&(Tt("@flyInOut",n._state),C(n.toastClasses),L("display",n.displayStyle))},standalone:!0,features:[f],attrs:Qt,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,n){e&1&&x(0,le,3,0,"button",0)(1,de,3,5,"div",1)(2,ue,1,3,"div",2)(3,pe,2,4,"div",3)(4,me,2,2,"div",4),e&2&&(p("ngIf",n.options.closeButton),c(),p("ngIf",n.title),c(),p("ngIf",n.message&&n.options.enableHtml),c(),p("ngIf",n.message&&!n.options.enableHtml),c(),p("ngIf",n.options.progressBar))},dependencies:[z],encapsulation:2,data:{animation:[kt("flyInOut",[$("inactive",Q({opacity:0})),$("active",Q({opacity:1})),$("removed",Q({opacity:0})),tt("inactive => active",K("{{ easeTime }}ms {{ easing }}")),tt("active => removed",K("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return o})(),xe=S(v({},$t),{toastComponent:Te}),we=(o={})=>Z([{provide:qt,useValue:{default:xe,config:o}}]),Wt=(()=>{class o{static forRoot(t={}){return{ngModule:o,providers:[we(t)]}}static \u0275fac=function(e){return new(e||o)};static \u0275mod=mt({type:o});static \u0275inj=ut({})}return o})();var Ie=(()=>{class o{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=j(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=j("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),e=this.hideTime-t;this.width.set(e/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(e){return new(e||o)(b(Yt),b(H),b(G))};static \u0275cmp=h({type:o,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,n){e&1&&T("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),e&2&&(C(n.toastClasses),L("display",n.displayStyle))},standalone:!0,features:[f],attrs:Qt,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,n){e&1&&x(0,he,3,0,"button",0)(1,ge,3,5,"div",1)(2,ve,1,3,"div",2)(3,_e,2,4,"div",3)(4,be,2,2,"div",4),e&2&&(p("ngIf",n.options.closeButton),c(),p("ngIf",n.title),c(),p("ngIf",n.message&&n.options.enableHtml),c(),p("ngIf",n.message&&!n.options.enableHtml),c(),p("ngIf",n.options.progressBar))},dependencies:[z],encapsulation:2,changeDetection:0})}return o})(),gi=S(v({},$t),{toastComponent:Ie});var Xt={providers:[ht(Wt.forRoot({timeOut:3e3,positionClass:"toast-top-right",preventDuplicates:!0,progressBar:!0,closeButton:!0})),St(At()),Nt(Ut),Et(),Gt()]};var Oe={providers:[Ht()]},Jt=Ot(Xt,Oe);var Me=()=>Rt(zt,Jt),ki=Me;export{ki as a};
